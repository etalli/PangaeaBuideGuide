# Pangaea buide guide for teters

この文章は Panagea Keyboard を組み立てるための手引き書です。興味を持って頂いたテスター向けのガイドになります。

## 完成イメージ

組み立てたときのイメージです。まだキーキャップは取り付けられていない状態です。

![picture 1](images/4654de285b3f48fc8ee407a733680955d16ebc803d51c34f99765b41f4ffe5e8.png)  

## 組み立て編

Pangaea Keyboard の特徴の一つは親指クラスタと小指クラスタの場所が調整できることです。そのため、そのメカ的な調整機構のための工夫がなされており、部品は大きく三つのクラスタに分かれています。

1. メインクラスタ [photo]
2. 親指クラスタ　[photo]
3. 小指クラスタ [photo]

1．のメインクラスタは、キーで言うと上から2345/WERT/SDFG/XCVB の部分になります。
2. の親指クラスタは、標準では5個のキーで構成されます。カスタマイズにより3個のキーあるいは4個のキーにキーの数を削減することもできます。
3. の小指クラスタは、標準では8個のキーで構成されます。オプションで最も外側のキーが下方向に下がった部品も用意される予定です。

Pangaea では上記の親指クラスタ、小指クラスタの物理的な位置が調整できるようにするため、それぞれのクラスタを接続するコネクタ部品が用意されています。組み立てにはそれらを信号としても、物理的にもつなぐ必要があります。

それでは順に組み立てていきましょう。

## PCBとクラスタ間の信号の接続

基板とクラスタ間を接続した完成形はこちらです。
![picture 3](images/e8cf4e5ab07ae1a9450db6237234261d8d0daca476545fba90c7199dbf79572b.png)  


基板の向きを間違えないようにするためのマークがPCBに印字されています。よく確認して左端にマークが来るように合わせましょう。
 ![picture 4](images/13a6e4abe06fdf55e29f08c79a0a2a02d93426b52d6df6399b1b247043b9f3ee.png)  


1. メインクラスタの組み立て
 - ダイオード
 - ソケット
 - Pro Micro (USB Type-C)
 - reset switch

 [photo]

2. 親指クラスタの組み立て
 - ダイオード
 - ソケット
  [photo]

3. 小指クラスの組み立て
 - ダイオード
 - ソケット
 [photo]

これで三つのクラスタが用意できました。
それぞれ、top plateにスイッチを挿入し、PCBに固定します。
メイン [photo]
親指クラスタ [photo]
小指クラスタ [photo]

次にクラスタ同士の信号を接続します。

こちらが最終的に接続された状態です。
 ![[photo] 1](images/12b5d017e92538700fd86b66f8f17ba5b7837069fc4d05f0cf9e0c62a58a4044.png)  
[photo]

1. メインと親指クラスタの接続
 [photo]
　2.5mm pitch XHコネクタを持ちいた場合の実装例です。直接、線をハンダ付けしてもかまいません。メイン基板の1と親指クラスタの1が接続されるようにします。それぞれ1-6を対応させます。

2. メインと小指クラスタの接続
 [photo]
　2.5mm pitch XHコネクタを持ちいた場合の実装例です。直接、線をハンダ付けしてもかまいません。

この状態でFirmwareを書き込んで動作を確認します。

## クラスタ間の物理的な接続 

次に物理的に接続します。
完成形はこのようになります。
![picture 2](images/ae8b663de61265fc9e2a7c73a48820bda330f6d65dd7c69996d7fd06cbfcfd85.png)  


まずは、メインのボトムプレートを用意し、4つのネジを固定します。これはメイン基板を固定するためのネジです。PCBのスペーサを使って高さを上げます。ネジは5mmがいいでしょう。
 [photo]

次に、親指クラスタのボトムプレートを用意し、メインプレートと接続します。
接続部品はこちらです。![picture 6](images/0a40776e85302190b7db8250a09605896cdc25e2c0a9c59730956f0daec5297e.png)  

手前側はPCBのスペーサを使って高さを上げます。ネジは5mmを使います。
 [photo]

最後に、小指クラスタのボトムプレートを用意し、メインプレートと接続します。
接続部品はこちらです。![picture 5](images/f13e1266644263a3237f0dc3debcd90be7cba8184b91f7bf281d1283899af6be.png)  

手前側はPCBのスペーサを使って高さを上げます。ネジは5mmを使います。6mmが入手できればベストです。5mmだとちょっと短いです。
 [photo]

こんな感じで調整できるようになっていると思います。
![picture 8](images/b1e843c930b5d5a4a3331d23bac49f055a0c1e8cba4a9a129905668647902217.png)  


## ボトムプレートへのPCB基板の取り付け

ここまでできたら、スイッチがついたメイン基板、親指クラスタ、小指クラスタをボトムプレートの上に乗せてネジで固定します。
固定箇所はメイン、親指クラスタ、小指クラスタそれぞれが4箇所です。
 [photo]

右側も同様に組み立てます。
 [photo]

キーキャップをはめて、左右をTRRSケーブルで接続したら完成です。

## 調整編

完成したPangaea keyboard の価値は調整できることです。好きなように調整してください、なのですが、自由度が高すぎても困ると思いますので私の例で説明します。


+ 親指クラスタの調整
 - レイヤキーとの組み合わせ
   [詳細]
+ 小指クラスタの調整
 -　Control, Shift keyの位置
   [詳細]


 TBD...
 
## 拡張編

キーの追加、Rotary Encoder の追加方法について説明します。

   [詳細]


